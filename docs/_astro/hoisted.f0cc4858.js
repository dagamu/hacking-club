import{d as g,f as m}from"./solid.c09dcdea.js";function v({button:e,content:t,animated:s=!1,closeAt:a=-1}){t.id&&e.setAttribute("aria-controls",t.id),a>0&&window.matchMedia(`(min-width: ${a}px)`).addEventListener("change",h=>{h.matches&&o(!1)});const[i,o]=g(!1);m(()=>{e.setAttribute("aria-expanded",String(i())),i()&&t.style.removeProperty("display"),!i()&&!s&&(t.style.display="none"),i()&&document.documentElement.classList.add("disclosure-open"),requestAnimationFrame(()=>{i()?t.dataset.open="true":delete t.dataset.open})}),t.addEventListener("transitionstart",()=>{}),s&&t.addEventListener("transitionend",()=>{i()||(t.style.display="none",document.documentElement.classList.remove("disclosure-open"))}),e.addEventListener("click",()=>{o(!i())}),t.addEventListener("keydown",r=>{r.key==="Escape"&&(o(!1),e.focus())});const l=r=>{t.contains(r.target)||r.target!==e&&r.stopPropagation()},c=r=>{i()&&!t.contains(r.target)&&!e.contains(r.target)&&(o(!1),e.focus())};m(()=>{i()?(window.addEventListener("click",c),window.addEventListener("focusin",l)):(window.removeEventListener("click",c),window.removeEventListener("focusin",l))})}v({button:document.querySelector("#astroprops-drawer-trigger"),content:document.querySelector("#astroprops-drawer"),animated:!0,closeAt:1024});const p=document.querySelector('link[rel="icon"]');document.addEventListener("visibilitychange",()=>{const e=document.hidden;p.setAttribute("href",`/favicon${e?"-hidden":""}.svg`)});const w=()=>localStorage.getItem("theme-preference")?localStorage.getItem("theme-preference"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",u=()=>{localStorage.setItem("theme-preference",n.value??"light"),d()},d=()=>{document.firstElementChild?.setAttribute("data-theme",n.value??"light"),document.querySelector("#theme-toggle")?.setAttribute("aria-label",n.value??"light")},n={value:w()};d();window.onload=()=>{d(),document.querySelector("#theme-toggle")?.addEventListener("click",e=>{n.value=n.value==="light"?"dark":"light",u()})};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{n.value=e?"dark":"light",u()});function f(e){throw typeof e=="string"?new Error(e):e}function E(e,t,s=document){const a=s.querySelector(e)??f(`Element not found: ${e}`);return a instanceof t||f(`Element is not of type ${t.name}: ${e}`),a}E("[data-home-link]",HTMLAnchorElement).addEventListener("contextmenu",e=>{e.preventDefault(),window.location.href="/about/"});
